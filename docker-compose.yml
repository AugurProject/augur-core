version: "3"
services:
  parity-dev-node:
    build: ./parity-dev-node
    ports:
      - "47622:8545"
      - "47621:8180"
  # geth-dev-node:
  #   build: ./geth-dev-node
  #   ports:
  #     - "47624:8545"
  parity-integration-tests:
    build:
      context: .
      dockerfile: Dockerfile-integration-tests
    # command: [ "--debug=0.0.0.0:9229", "--inspect-brk" ]
    ports:
      - "9229:9229"
    environment:
      - ETHEREUM_HOST=parity-dev-node
      - ETHEREUM_PORT=8545
      - ETHEREUM_GAS_PRICE_IN_NANOETH=1
      - ETHEREUM_BLOCK_INTERVAL_IN_MILLISECONDS=10
    links:
      - parity-dev-node
  # geth-integration-tests:
  #   build:
  #     context: .
  #     context: Dockerfile-integration-tests
  #   environment:
  #     - ETHEREUM_HOST=geth-dev-node
  #     - ETHEREUM_PORT=8545
  #     - ETHEREUM_GAS_PRICE_IN_NANOETH=1
  #   links:
  #     - geth-dev-node
